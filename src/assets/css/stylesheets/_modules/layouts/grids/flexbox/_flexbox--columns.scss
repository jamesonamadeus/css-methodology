/** --------------------------------------------------------------------

  Flexbox Columns

  Modify the flex width lists to output flexbox column classes
  (e.g. flex-w-#) for each major breakpoint.

  ** please be sure to remove any unnecessary widths to
     reduce class bloat

  Widths with decimal values (e.g. 33.33333%) should be placed
  into the $flex-decimal-list as whole numbers.

--------------------------------------------------------------------- */

// Widths for flex-area columns
$flex-width-list: 19, 20, 24, 25, 29, 30, 39, 40, 44, 45, 49, 50,
                  54, 55, 59, 60, 69, 70, 74, 75, 79, 80, 100;

$flex-decimal-list: 32, 33, 65, 66;

$flex-w-100--margin:  $base-margin !default;

//------------------------------------------------------------------------

// spit out whole number classes
@each $widths in $flex-width-list {
  .flex-w-#{$widths} {
    @if $widths == 100 {
      @include flex-grow( 1 );
      margin-top: $flex-w-100--margin;
    }
    @include flex-basis( $widths * 1% );
    max-width: $widths * 1%;
  }
}

// decimal numbers need special maths
@each $widths in $flex-decimal-list {
  .flex-w-#{$widths} {
    @include flex-basis( $widths * 1.010101% );
    max-width: $widths * 1.010101%;
  }
}


// small break point
@media screen and ( min-width: $bp-small ) {

  @each $widths in $flex-width-list {
    .flex-w-#{$widths}--sm {
      @if $widths == 100 {
        @include flex-grow( 1 );
      }
      @include flex-basis( $widths * 1% );
      max-width: $widths * 1%;
    }
  }

  // decimal numbers need special maths
  @each $widths in $flex-decimal-list {
    .flex-w-#{$widths}--sm {
      @include flex-basis( $widths * 1.010101% );
      max-width: $widths * 1.010101%;
    }
  }
}

// medium break point
@media screen and ( min-width: $bp-portrait ) {

  @each $widths in $flex-width-list {
    .flex-w-#{$widths}--portrait {
      @if $widths == 100 {
        @include flex-grow( 1 );
      }
      @include flex-basis( $widths * 1% );
      max-width: $widths * 1%;
    }
  }

  // decimal numbers need special maths
  @each $widths in $flex-decimal-list {
    .flex-w-#{$widths}--portrait {
      @include flex-basis( $widths * 1.010101% );
      max-width: $widths * 1.010101%;
    }
  }
}


// 860 break point
@media screen and ( min-width: $bp-medium ) {

  @each $widths in $flex-width-list {
    .flex-w-#{$widths}--md {
      @if $widths == 100 {
        @include flex-grow( 1 );
      }
      @include flex-basis( $widths * 1% );
      max-width: $widths * 1%;
    }
  }

  // decimal numbers need special maths
  @each $widths in $flex-decimal-list {
    .flex-w-#{$widths}--md {
      @include flex-basis( $widths * 1.010101% );
      max-width: $widths * 1.010101%;
    }
  }
}


// large break point
@media screen and ( min-width: $bp-large ) {

  @each $widths in $flex-width-list {
    .flex-w-#{$widths}--lg {
      @if $widths == 100 {
        @include flex-grow( 1 );
      }
      @include flex-basis( $widths * 1% );
      max-width: $widths * 1%;
    }
  }

  // decimal numbers need special maths
  @each $widths in $flex-decimal-list {
    .flex-w-#{$widths}--lg {
      @include flex-basis( $widths * 1.010101% );
      max-width: $widths * 1.010101%;
    }
  }
}


// 1024 break point
@media screen and ( min-width: $bp-1024 ) {

  @each $widths in $flex-width-list {
    .flex-w-#{$widths}--1024 {
      @if $widths == 100 {
        @include flex-grow( 1 );
      }
      @include flex-basis( $widths * 1% );
      max-width: $widths * 1%;
    }
  }

  // decimal numbers need special maths
  @each $widths in $flex-decimal-list {
    .flex-w-#{$widths}--1024 {
      @include flex-basis( $widths * 1.010101% );
      max-width: $widths * 1.010101%;
    }
  }
}


// wide break point
@media screen and ( min-width: $bp-wide ) {

  @each $widths in $flex-width-list {
    .flex-w-#{$widths}--wide {
      @if $widths == 100 {
        @include flex-grow( 1 );
      }
      @include flex-basis( $widths * 1% );
      max-width: $widths * 1%;
    }
  }

  // decimal numbers need special maths
  @each $widths in $flex-decimal-list {
    .flex-w-#{$widths}--wide {
      @include flex-basis( $widths * 1.010101% );
      max-width: $widths * 1.010101%;
    }
  }
}

/**

  Example Mark-up:
  -----------------------------------------------------------

  <div class="flex-area">
    <div class="flex-w-100 flex-w-50--portrait">
      ...
    </div>
    <div class="flex-w-100 flex-w-50--portrait">
      ...
    </div>
  </div>

*/
